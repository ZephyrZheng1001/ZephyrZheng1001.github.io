<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes" />
  <meta name="description" content="RPN é€†æ³¢å…°è¡¨è¾¾å¼ç®—æ³•è¯¦è§£" />
  <title>RPN é€†æ³¢å…°è¡¨è¾¾å¼ Â· ZephyrZheng1001</title>
  <link rel="stylesheet" href="../assets/styles.css">
  <script>
    const theme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', theme);
  </script>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="/">
        <img class="avatar" src="https://github.com/ZephyrZheng1001.png" alt="å¤´åƒ" width="48" height="48">
        <span class="name">ZephyrZheng1001</span>
      </a>
      <nav class="nav">
        <a href="../index.html">é¦–é¡µ</a>
        <a href="../index.html#projects">é¡¹ç›®</a>
        <a href="index.html">åšå®¢</a>
        <a href="../index.html#contact">è”ç³»</a>
        <button id="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">ğŸŒ™</button>
      </nav>
    </div>
  </header>

  <main>
    <article class="container section">
      <h1>RPN é€†æ³¢å…°è¡¨è¾¾å¼</h1>
      <p><small>å‘å¸ƒäº 2025-12-01</small></p>

      <h2>ä»€ä¹ˆæ˜¯ RPNï¼Ÿ</h2>
      <p>é€†æ³¢å…°è¡¨è¾¾å¼ï¼ˆReverse Polish Notationï¼ŒRPNï¼‰ï¼Œä¹Ÿç§°åç¼€è¡¨è¾¾å¼ï¼Œæ˜¯ä¸€ç§æ•°å­¦ç¬¦å·è¡¨ç¤ºæ³•ã€‚æ“ä½œç¬¦åœ¨æ“ä½œæ•°ä¹‹åï¼Œä¸éœ€è¦æ‹¬å·å³å¯æ¸…æ™°è¡¨è¾¾è¿ç®—é¡ºåºã€‚</p>

      <h2>RPN vs ä¸­ç¼€è¡¨è¾¾å¼</h2>
      <table style="width:100%; border-collapse: collapse;">
        <tr style="border-bottom: 1px solid var(--muted);">
          <th style="padding: 8px; text-align: left;">ä¸­ç¼€è¡¨è¾¾å¼</th>
          <th style="padding: 8px; text-align: left;">RPNï¼ˆåç¼€ï¼‰</th>
        </tr>
        <tr style="border-bottom: 1px solid var(--muted);">
          <td style="padding: 8px;">3 + 4 * 5</td>
          <td style="padding: 8px;">3 4 5 * +</td>
        </tr>
        <tr style="border-bottom: 1px solid var(--muted);">
          <td style="padding: 8px;">(5 + 3) * 2</td>
          <td style="padding: 8px;">5 3 + 2 *</td>
        </tr>
        <tr>
          <td style="padding: 8px;">10 - (2 + 3)</td>
          <td style="padding: 8px;">10 2 3 + -</td>
        </tr>
      </table>

      <h2>æ ¸å¿ƒç‰¹ç‚¹</h2>
      <ul>
        <li>ä¸éœ€è¦æ‹¬å·è¡¨ç¤ºä¼˜å…ˆçº§</li>
        <li>æ˜“äºè®¡ç®—æœºå¤„ç†</li>
        <li>ä½¿ç”¨æ ˆæ•°æ®ç»“æ„</li>
        <li>è®¡ç®—æ•ˆç‡é«˜ï¼Œé¿å…é€’å½’è°ƒç”¨</li>
      </ul>

      <h2>è¯„ä¼° RPN çš„ç®—æ³•</h2>
      <ol>
        <li>ä»å·¦åˆ°å³æ‰«æè¡¨è¾¾å¼</li>
        <li>å¦‚æœæ˜¯æ•°å­—ï¼Œå…¥æ ˆ</li>
        <li>å¦‚æœæ˜¯æ“ä½œç¬¦ï¼Œå¼¹å‡ºä¸¤ä¸ªæ“ä½œæ•°ï¼Œæ‰§è¡Œè¿ç®—ï¼Œç»“æœå…¥æ ˆ</li>
        <li>æœ€åæ ˆä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå³ç»“æœ</li>
      </ol>

      <h2>ä»£ç å®ç°</h2>
      <pre><code>def eval_rpn(tokens):
    stack = []
    operators = {'+', '-', '*', '/'}
    
    for token in tokens:
        if token in operators:
            # å¼¹å‡ºä¸¤ä¸ªæ“ä½œæ•°
            b = stack.pop()  # ç¬¬äºŒä¸ªæ“ä½œæ•°
            a = stack.pop()  # ç¬¬ä¸€ä¸ªæ“ä½œæ•°
            
            # æ‰§è¡Œè¿ç®—
            if token == '+':
                result = a + b
            elif token == '-':
                result = a - b
            elif token == '*':
                result = a * b
            elif token == '/':
                result = int(a / b)  # æˆªæ–­é™¤æ³•
            
            stack.append(result)
        else:
            # æ•°å­—å…¥æ ˆ
            stack.append(int(token))
    
    return stack[0]

# ä½¿ç”¨ç¤ºä¾‹
print(eval_rpn(['3', '4', '5', '*', '+']))  # è¾“å‡º: 23 (3 + 4*5)
print(eval_rpn(['5', '3', '+', '2', '*']))  # è¾“å‡º: 16 ((5+3)*2)
print(eval_rpn(['10', '2', '3', '+', '-']))  # è¾“å‡º: 5 (10-(2+3))</code></pre>

      <h2>ä¸­ç¼€è½¬ RPN</h2>
      <p>ä½¿ç”¨è°ƒåº¦åœºç®—æ³•ï¼ˆShunting-yard Algorithmï¼‰å¯ä»¥å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢ä¸º RPNï¼š</p>
      <pre><code>def infix_to_rpn(expression):
    precedence = {'+': 1, '-': 1, '*': 2, '/': 2}
    stack = []
    output = []
    
    for token in expression.split():
        if token.isdigit():
            output.append(token)
        elif token in precedence:
            while (stack and stack[-1] != '(' and 
                   stack[-1] in precedence and 
                   precedence[stack[-1]] >= precedence[token]):
                output.append(stack.pop())
            stack.append(token)
        elif token == '(':
            stack.append(token)
        elif token == ')':
            while stack[-1] != '(':
                output.append(stack.pop())
            stack.pop()  # ç§»é™¤ '('
    
    while stack:
        output.append(stack.pop())
    
    return output

# ç¤ºä¾‹
print(infix_to_rpn('3 + 4 * 5'))  # ['3', '4', '5', '*', '+']</code></pre>

      <h2>åº”ç”¨åœºæ™¯</h2>
      <ul>
        <li>è®¡ç®—å™¨å®ç°</li>
        <li>ç¼–è¯‘å™¨ä¸­çš„è¡¨è¾¾å¼æ±‚å€¼</li>
        <li>æ ˆæœºå™¨çš„æŒ‡ä»¤é›†</li>
        <li>Excel ç­‰ç”µå­è¡¨æ ¼è½¯ä»¶å†…éƒ¨</li>
      </ul>

      <h2>æ—¶é—´å¤æ‚åº¦</h2>
      <ul>
        <li><strong>æ±‚å€¼æ—¶é—´å¤æ‚åº¦ï¼š</strong>O(n)ï¼Œåªéœ€éå†ä¸€éè¡¨è¾¾å¼</li>
        <li><strong>ç©ºé—´å¤æ‚åº¦ï¼š</strong>O(n)ï¼Œæ ˆæœ€å¤šå­˜å‚¨æ‰€æœ‰å…ƒç´ </li>
      </ul>

      <p><a href="index.html" class="link">â† è¿”å›åšå®¢åˆ—è¡¨</a></p>
    </article>
  </main>

  <footer class="site-footer">
    <div class="container"><small>Â© 2025 ZephyrZheng1001 ä½¿ç”¨ GitHub Pages éƒ¨ç½²</small></div>
  </footer>

  <script>
    const btn = document.getElementById('theme-toggle');
    function updateIcon() {
      const theme = document.documentElement.getAttribute('data-theme');
      if (btn) btn.textContent = theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸';
    }
    updateIcon();
    if (btn) {
      btn.addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme');
        const next = current === 'light' ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
        updateIcon();
      });
    }
  </script>
</body>
</html>
